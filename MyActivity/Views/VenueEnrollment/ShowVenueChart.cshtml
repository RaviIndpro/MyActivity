<center><h1>Activities Venues</h1></center>
    <link rel="stylesheet" type="text/css" href="index.css">
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="~/js/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            $.ajax({
                type: "GET",
                dataType: "json",
                contentType: "application/json",
                url: '@Url.Action("GetVenueChart", "VenueEnrollment")',
                success: function (result) {
                    google.charts.load('current', {'packages': ['corechart']});
                    google.charts.setOnLoadCallback(function () {
                        drawChart(result);
                    });
                }
            });
        });
        function drawChart(result) {
            var data = new google.visualization.DataTable();
            data.addColumn('string', 'Activity Name');
            var dataArray = [];
            var column=true;
            $.each(result, function (i, obj) {
                
                if(column)
                {
                    $.each(obj.activityCounterList , function(j,obj2) {
                        data.addColumn('number', obj2.name);
                    });
                    column=false;
                }
            });
            console.log(dataArray);
            $.each(result, function (i, obj) {
                dataArray=[];
                dataArray.push(obj.activityName);
                 $.each(obj.activityCounterList , function(j,obj2) {
                        dataArray.push(parseInt(obj2.counter));
                    });
                    console.log(dataArray);
                    data.addRow(dataArray);
            });
            var options = {
                //bar:{groupWidth:'75%'},
                isStacked: 'percent'
            };
            var columnChart = new google.visualization.ColumnChart(document.getElementById('viewchart'));
            columnChart.draw(data, options);
        }
    </script>


    <div id="viewchart"></div>

